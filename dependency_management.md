**Изолированная среда разработки**  
После первоначальной установки Python на компьютере создаётся глобальное окружение, в рамках которого находятся сам интерпретатор и установленные модули. Эти ресурсы становятся общедоступными для всех Python-приложений, запускаемых на данной машине.

Глобальное окружение представляет собой стандартную среду Python, которая автоматически создаётся при установке интерпретатора на вашем устройстве.

Чаще всего на одном компьютере у разработчика одновременно ведётся несколько проектов. Чтобы они не мешали друг другу, используют виртуальные окружения — отдельные изолированные пространства, созданные специально для каждого проекта. В каждом таком окружении можно настроить собственную версию Python и набор библиотек, что обеспечивает независимость проектов и исключает конфликты между ними при совместной работе на одной машине.

В Python существует несколько популярных способов создания виртуальных окружений:
- **venv** — встроенный модуль, доступный с версии Python 3.3 и выше, который позволяет быстро создавать изолированные среды;
    
- **virtualenv** — сторонний пакет, предлагающий расширенные возможности по сравнению с venv;
    
- **conda** — инструмент из состава Anaconda, который сочетает управление пакетами и окружениями, особенно востребован в научных и аналитических задачах;
    
- **pipenv** — объединяет функции управления пакетами и виртуальными средами, используя pip и virtualenv.

Выбор инструмента зависит от специфики проекта и личных предпочтений. Тем не менее, для знакомства с виртуальными окружениями обычно рекомендуют начать с venv, так как он встроен в Python и не требует дополнительной установки — именно так и поступим.

![[Pasted image 20250528114204.png]]
Создадим новый проект с одним единственным файлом

Далее открываем терминал и создаем виртуальное окружение:
```
python -m venv venv
```
![[Pasted image 20250528114355.png]]
Появится папка с виртуальным окружением

Cоздав виртуальное окружение, вы ещё не начали с ним работать — по умолчанию вы всё ещё находитесь в глобальной среде Python. Чтобы начать использовать созданное окружение, его нужно активировать. Это переключит вас из глобального пространства в изолированную среду проекта.  
В корневой папке проекта `test_project`, активировать окружение можно с помощью команды, введённой в терминале.
```
# Команда для Windows:
source venv/Scripts/activate

# Для Linux и macOS:
source venv/bin/activate
```
После того как виртуальное окружение активировано, его название обычно отображается в начале строки терминала. Это позволяет легко определить, что вы находитесь именно в изолированной среде проекта. К примеру, если окружение размещено в папке `venv`, то в терминале Git Bash под Windows строка приглашения может выглядеть примерно следующим образом:
```
(venv)
имя_пользователя@имя_компьютера MINGW64 /c/dev/first_project
$
```
На разных операционных системах отображение может различаться — например, для macOS активированное окружение может выглядеть так:
```
(venv) имя_пользователя@имя_компьютера first_project %
```
Для **каждого проекта** рекомендуется создавать и использовать отдельное виртуальное окружение

Виртуальное окружение для проекта _first_project_ создано и активировано. Теперь все команды, которые вы введёте в терминал, будут выполняться в этом окружении.

Деактивировать виртуальное окружение можно командой:
```
deactivate
```
Можно даже полностью уничтожить виртуальное окружение — для этого деактивируйте окружение и после этого просто удалите папку _venv_ из корневой папки проекта.

# Фиксация и установка зависимостей
Давайте для начала установим набор библиотек:
```
pip install pytest
pip install pyTelegramBotAPI
pip install fastapi
```
Представим что нам нужно установить наш проект в другой директории или на другой рабочей машине. Для того чтобы вручную не переписывать все зависимостями (они бывают прописаны с конкретными версиями), список которых может быть весьма внушительным, разработчики формируют файл `requirements.txt`.
По факту этот файл содержит в себе название и версии всех установленных в окружении библиотек.
Создать его можно командой:
```
pip freeze > requirements.txt
```
Название может быть и другим но есть множество причин не делать этого.
### 1. **Историческая традиция и стандарт де-факто**

Название `requirements.txt` стало стандартом в Python-сообществе благодаря широкому использованию и поддержке в инструментах вроде `pip`. С начала 2010-х годов разработчики начали использовать этот файл, чтобы явно указывать зависимости проекта, и с тех пор это название закрепилось как общепринятое.

### 2. **Прямая связь с pip**

Инструмент управления пакетами `pip` напрямую поддерживает файл с именем `requirements.txt`:
```
pip install -r requirements.txt
```
Опция `-r` означает "прочитать список зависимостей из файла", и если файл называется `requirements.txt`, это удобно и понятно без лишней настройки.

### 3. **Название описывает суть**

Слово "requirements" переводится как **"требования"**. Файл `requirements.txt` содержит **требуемые зависимости**, без которых проект не сможет корректно работать — библиотеки, версии, и т.п. Название говорит само за себя.

### 4. **Унифицированность и удобство**

Когда ты видишь `requirements.txt` в любом Python-проекте (на GitHub, в open source, в команде), ты сразу понимаешь:

- Здесь перечислены зависимости.
    
- Их можно установить командой `pip install -r requirements.txt`.
    
- Это привычное и узнаваемое место для зависимостей, как `package.json` в Node.js или `Gemfile` в Ruby.

После выполнения pip freeze появится файлик с содержанием наших зависимостей
```
annotated-types==0.7.0
anyio==4.9.0
certifi==2025.4.26
charset-normalizer==3.4.2
colorama==0.4.6
fastapi==0.115.12
idna==3.10
iniconfig==2.1.0
packaging==25.0
pluggy==1.6.0
pydantic==2.11.5
pydantic_core==2.33.2
pyTelegramBotAPI==4.27.0
pytest==8.3.5
requests==2.32.3
sniffio==1.3.1
starlette==0.46.2
typing-inspection==0.4.1
typing_extensions==4.13.2
urllib3==2.4.0
```

Проведем обратное действие
1) Деактивируем виртуальное окружение
```
deactivate
```
2) Удаляем папку venv
3) Создаем новое виртуальное окружение
4) Устанавливаем зависимости из файла
pip install -r requirements.txt

Таким образом мы научились фиксировать зависимости и устанавливать все необходимые библиотеки из заранее заготовленного файла. Смогли разделить зависимости каждого проекта в свой собственный 'мир' и работать с менеджером pip.