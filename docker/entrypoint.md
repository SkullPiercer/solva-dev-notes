`ENTRYPOINT` ‚Äî —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –≤ **Dockerfile**, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–¥–∞—ë—Ç –∫–æ–º–∞–Ω–¥—É, –≤—ã–ø–æ–ª–Ω—è–µ–º—É—é –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.  
–ï—ë –æ—Å–Ω–æ–≤–Ω–æ–µ –æ—Ç–ª–∏—á–∏–µ –æ—Ç `CMD` –≤ —Ç–æ–º, —á—Ç–æ –æ–Ω–∞ **–∂—ë—Å—Ç–∫–æ –∑–∞–∫—Ä–µ–ø–ª—è–µ—Ç** –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ—Ü–µ—Å—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –∞ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –∫ —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥–µ.

> üìå –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤ Docker –∂–∏–≤—ë—Ç, –ø–æ–∫–∞ –∂–∏–≤—ë—Ç –ø—Ä–æ—Ü–µ—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—É—â–µ–Ω –≤ `ENTRYPOINT`.

## –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É ENTRYPOINT | CMD
```
||ENTRYPOINT|CMD|
|---|---|---|
|–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ|–û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞|–ê—Ä–≥—É–º–µ–Ω—Ç—ã –∏–ª–∏ –∫–æ–º–∞–Ω–¥–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é|
|–ó–∞–º–µ–Ω–∞ –ø—Ä–∏ `docker run`|**–ù–µ –∑–∞–º–µ–Ω—è–µ—Ç—Å—è**, –∞ –ø–æ–ª—É—á–∞–µ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç—ã|–ü–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–º–µ–Ω—è–µ—Ç—Å—è, –µ—Å–ª–∏ —É–∫–∞–∑–∞—Ç—å –∫–æ–º–∞–Ω–¥—É|
|–¢–∏–ø–∏—á–Ω–∞—è —Ä–æ–ª—å|–£–∫–∞–∑—ã–≤–∞–µ—Ç –≥–ª–∞–≤–Ω—ã–π –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª|–£–∫–∞–∑—ã–≤–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –∫–æ–º–∞–Ω–¥—ã|
```

–ü—Ä–∏–≤–µ–¥—É –ø—Ä–æ—Å—Ç–µ–π—à–∏–π –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä:
–£ –Ω–∞—Å –µ—Å—Ç—å –∑–∞–¥–∞—á–∞ –ø–æ—Å—Ç–∞–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å "–ø—É—Å—Ç—ã–º" Django –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º, –∫–æ—Ç–æ—Ä—ã–π —É–∂–µ –±—É–¥–µ—Ç –∏–º–µ—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏.

–í–æ—Ç –∫–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –º–æ–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:
```
/project_root/                  # –ö–æ—Ä–µ–Ω—å, –≥–¥–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è docker-compose
‚îú‚îÄ‚îÄ docker-compose.yml           # –û–ø–∏—Å–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤ (–≤–Ω–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
‚îÇ
‚îî‚îÄ‚îÄ django_docker/               # –ü–∞–ø–∫–∞ —Å –∏—Å—Ö–æ–¥–Ω–∏–∫–∞–º–∏ Django-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    ‚îú‚îÄ‚îÄ Dockerfile               # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–∞
    ‚îú‚îÄ‚îÄ entrypoint.sh            # –°–∫—Ä–∏–ø—Ç –æ–∂–∏–¥–∞–Ω–∏—è –ë–î, –º–∏–≥—Ä–∞—Ü–∏–π –∏ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
    ‚îú‚îÄ‚îÄ requirements.txt         # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
    ‚îÇ
    ‚îî‚îÄ‚îÄ app/                     # Django-–ø—Ä–æ–µ–∫—Ç
```

–í—Å–µ —Å–∞–º–æ–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ Dockerfile  –∏ entrypoint.sh 

–ù–∞—á–Ω–µ–º —Å Dockerfile:
```
FROM python:3.11-slim  
# –ò—Å–ø–æ–ª—å–∑—É–µ–º –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–∑ Python 3.11, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ —Ä–∞–∑–º–µ—Ä—É.  
# –õ—ë–≥–∫–∏–π, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫, –µ—Å–ª–∏ –æ–Ω–∏ –Ω—É–∂–Ω—ã.

RUN apt-get update && apt-get install -y  
# –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ –ø–∞–∫–µ—Ç–æ–≤ apt –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —É–∫–∞–∑–∞–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (—É —Ç–µ–±—è —Å–ø–∏—Å–æ–∫ –ø—É—Å—Ç–æ–π, –∑–Ω–∞—á–∏—Ç –Ω–∏—á–µ–≥–æ –Ω–µ —Å—Ç–∞–≤–∏—Ç—Å—è).  
# –ï—Å–ª–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–µ –Ω—É–∂–Ω—ã, —ç—Ç–æ—Ç —à–∞–≥ –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å.

WORKDIR /usr/src/app  
# –ó–∞–¥–∞—ë–º —Ä–∞–±–æ—á—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞. –í—Å–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –≤ —ç—Ç–æ–π –ø–∞–ø–∫–µ.

COPY requirements.txt .  
# –ö–æ–ø–∏—Ä—É–µ–º —Ñ–∞–π–ª —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –≤ —Ä–∞–±–æ—á—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.  
# –≠—Ç–æ—Ç —à–∞–≥ –≤—ã–¥–µ–ª–µ–Ω –æ—Ç–¥–µ–ª—å–Ω–æ, —á—Ç–æ–±—ã –∫–µ—à–∏—Ä–æ–≤–∞–ª–∞—Å—å —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

RUN pip install --no-cache-dir -r requirements.txt  
# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º Python-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ requirements.txt –±–µ–∑ –∫–µ—à–∞, —á—Ç–æ–±—ã —É–º–µ–Ω—å—à–∏—Ç—å —Ä–∞–∑–º–µ—Ä –æ–±—Ä–∞–∑–∞.

ENV PYTHONUNBUFFERED=1  
# –í—ã–∫–ª—é—á–∞–µ–º –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—é stdout/stderr, —á—Ç–æ–±—ã –ª–æ–≥–∏ —Å—Ä–∞–∑—É –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å –≤ –∫–æ–Ω—Å–æ–ª–∏, –∞ –Ω–µ –Ω–∞–∫–∞–ø–ª–∏–≤–∞–ª–∏—Å—å –≤ –±—É—Ñ–µ—Ä–µ.

COPY . .  
# –ö–æ–ø–∏—Ä—É–µ–º –≤–µ—Å—å –ø—Ä–æ–µ–∫—Ç –∏–∑ —Ç–µ–∫—É—â–µ–π –ø–∞–ø–∫–∏ –Ω–∞ —Ö–æ—Å—Ç–µ –≤ —Ä–∞–±–æ—á—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

COPY entrypoint.sh /entrypoint.sh  
# –ö–æ–ø–∏—Ä—É–µ–º —Å–∫—Ä–∏–ø—Ç entrypoint –≤ –∫–æ—Ä–µ–Ω—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.  
# –≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –æ–±—ã—á–Ω–æ –≥–æ—Ç–æ–≤–∏—Ç –æ–∫—Ä—É–∂–µ–Ω–∏–µ (–æ–∂–∏–¥–∞–Ω–∏–µ –ë–î, –º–∏–≥—Ä–∞—Ü–∏–∏) –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

RUN chmod +x /entrypoint.sh  
# –î–µ–ª–∞–µ–º —Å–∫—Ä–∏–ø—Ç entrypoint –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º.

ENTRYPOINT ["/entrypoint.sh"]  
# –£–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ—á–∫—É –≤—Ö–æ–¥–∞ –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ ‚Äî –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –æ–Ω –≤—ã–ø–æ–ª–Ω–∏—Ç —ç—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç.
```

## –§–æ—Ä–º–∞—Ç—ã –∑–∞–ø–∏—Å–∏ ENTRYPOINT

–ï—Å—Ç—å –¥–≤–∞ —Å–ø–æ—Å–æ–±–∞ –∑–∞–ø–∏—Å–∏:

### **Exec form**
```
ENTRYPOINT ["python", "app.py"]
```
- –ö–æ–º–∞–Ω–¥–∞ –∏ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –∫–∞–∫ JSON-–º–∞—Å—Å–∏–≤.
    
- –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä shell.
    
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–µ –ø–æ–¥—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
    
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã –æ—Ç Docker (–≤–∞–∂–Ω–æ –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã).

### **Shell form**
```
ENTRYPOINT python app.py
```
- –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ `/bin/sh -c`.
    
- –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –ø—Ä—è–º–æ –≤ –∫–æ–º–∞–Ω–¥–µ.
    
- –ú–∏–Ω—É—Å ‚Äî –ª–æ–≤–∏—Ç —Å–∏–≥–Ω–∞–ª—ã –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, —á—Ç–æ –º–æ–∂–µ—Ç –º–µ—à–∞—Ç—å graceful shutdown.

–ù–∞–ø–∏—à–µ–º —Ñ–∞–π–ª –∏—Å–ø–æ–ª—å–∑—É—è shell form'—É
```
#!/bin/sh  # –£–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ —Å–∫—Ä–∏–ø—Ç –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å —á–µ—Ä–µ–∑ /bin/sh (POSIX shell)

# if [ "$POSTGRES_DB" = "store" ]; then  # –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è POSTGRES_DB —Ä–∞–≤–Ω–∞ "store"
#     echo "‚è≥ –ñ–¥—ë–º PostgreSQL –Ω–∞ —Ö–æ—Å—Ç–µ $POSTGRES_HOST –∏ –ø–æ—Ä—Ç—É $POSTGRES_PORT..."  # –°–æ–æ–±—â–∞–µ—Ç, —á—Ç–æ –∂–¥—ë–º –±–∞–∑—É

#     # –ñ–¥—ë–º, –ø–æ–∫–∞ TCP-–ø–æ—Ä—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å—Ç–∞–Ω–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–º
#     while ! nc -z "$POSTGRES_HOST" "$POSTGRES_PORT"; do  # –ü—ã—Ç–∞–µ—Ç—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É —Ö–æ—Å—Ç—É –∏ –ø–æ—Ä—Ç—É
#         sleep 0.5  # –ñ–¥—ë–º –ø–æ–ª—Å–µ–∫—É–Ω–¥—ã –ø–µ—Ä–µ–¥ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–æ–π
#     done

#     echo "‚úÖ PostgreSQL –∑–∞–ø—É—â–µ–Ω!"  # –°–æ–æ–±—â–∞–µ–º, —á—Ç–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–æ—Å—Ç—É–ø–Ω–∞
# fi
# –≠—Ç–∏ —Å—Ç—Ä–æ–∫–∏ –º–æ–∂–Ω–æ —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –¥–æ–∂–¥–∞—Ç—å—Å—è –∑–∞–ø—É—Å–∫–∞ PostgreSQL –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –º–∏–≥—Ä–∞—Ü–∏–π.
# –≠—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω–æ, –µ—Å–ª–∏ backend –∏ –±–∞–∑–∞ –ø–æ–¥–Ω–∏–º–∞—é—Ç—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —á–µ—Ä–µ–∑ docker-compose.

python manage.py makemigrations  # –°–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –º–æ–¥–µ–ª–µ–π Django
python manage.py migrate         # –ü—Ä–∏–º–µ–Ω—è–µ—Ç –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
# python manage.py collectstatic --noinput  # –°–æ–±–∏—Ä–∞–µ—Ç –≤—Å–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –≤ –æ–¥–Ω—É –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)
# python manage.py loaddata fixtures.json   # –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –±–∞–∑—É –∏–∑ fixtures.json
python manage.py runserver       # –ó–∞–ø—É—Å–∫–∞–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π dev-—Å–µ—Ä–≤–µ—Ä Django
```

## exec "$@"

- –ï—Å–ª–∏ —Ç—ã –ø–∏—à–µ—à—å `python manage.py runserver` –ø—Ä—è–º–æ –≤ —Å–∫—Ä–∏–ø—Ç–µ ‚Äî —Å–∫—Ä–∏–ø—Ç –æ—Å—Ç–∞—ë—Ç—Å—è PID 1, –∞ Python ‚Äî –¥–æ—á–µ—Ä–Ω–∏–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ —Å–∏–≥–Ω–∞–ª—ã –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ—Ç Docker (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ `docker stop`) –º–æ–≥—É—Ç –Ω–µ –¥–æ–π—Ç–∏ –¥–æ Python, –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –±—É–¥–µ—Ç –∑–∞–≤–µ—Ä—à–∞—Ç—å—Å—è –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.
    
- `exec "$@"` _–∑–∞–º–µ–Ω—è–µ—Ç_ —Ç–µ–∫—É—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å –æ–±–æ–ª–æ—á–∫–∏ –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π, —Ç–∞–∫ —á—Ç–æ Python –∏–ª–∏ Gunicorn —Å—Ä–∞–∑—É —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –æ—Å–Ω–æ–≤–Ω—ã–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –∏ Docker –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —É–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º.

–ü—Ä–∏–º–µ—Ä: 
```
python manage.py makemigrations
python manage.py migrate
exec "$@"
```

–ù–∞—à entrypoint —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º $@:
```
#!/bin/sh  # –£–∫–∞–∑—ã–≤–∞–µ–º, —á—Ç–æ —Å–∫—Ä–∏–ø—Ç –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è —Å –ø–æ–º–æ—â—å—é /bin/sh (POSIX-—Å–æ–≤–º–µ—Å—Ç–∏–º–∞—è –æ–±–æ–ª–æ—á–∫–∞)

# --- –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è —á–∞—Å—Ç—å –¥–ª—è –æ–∂–∏–¥–∞–Ω–∏—è –±–∞–∑—ã ---
# if [ "$POSTGRES_DB" = "store" ]; then                           # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –∏–º—è –±–∞–∑—ã —Ä–∞–≤–Ω–æ "store"
#     echo "‚è≥ –ñ–¥—ë–º PostgreSQL –Ω–∞ —Ö–æ—Å—Ç–µ $POSTGRES_HOST –∏ –ø–æ—Ä—Ç—É $POSTGRES_PORT..."
#
#     while ! nc -z "$POSTGRES_HOST" "$POSTGRES_PORT"; do          # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –¥–æ—Å—Ç—É–ø–µ–Ω –ª–∏ –ø–æ—Ä—Ç –±–∞–∑—ã
#         sleep 0.5                                                # –ñ–¥—ë–º 0.5 —Å–µ–∫—É–Ω–¥—ã –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–µ–π –ø—Ä–æ–≤–µ—Ä–∫–æ–π
#     done
#
#     echo "‚úÖ PostgreSQL –∑–∞–ø—É—â–µ–Ω!"
# fi
# (–≠—Ç–∞ —á–∞—Å—Ç—å –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω–∞, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–æ–¥–æ–∂–¥–∞—Ç—å –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)

# --- –ú–∏–≥—Ä–∞—Ü–∏–∏ ---
python manage.py makemigrations   # –°–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã –º–∏–≥—Ä–∞—Ü–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –º–æ–¥–µ–ª—è—Ö Django
python manage.py migrate          # –ü—Ä–∏–º–µ–Ω—è–µ—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

# python manage.py collectstatic --noinput  # (–Ω–µ–æ–±—è–∑.) –°–æ–±–∏—Ä–∞–µ—Ç –≤—Å–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –≤ –æ–¥–Ω—É –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
# python manage.py loaddata fixtures.json   # (–Ω–µ–æ–±—è–∑.) –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Ç–µ—Å—Ç–æ–≤—ã–µ/–Ω–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ fixtures.json –≤ –±–∞–∑—É

# --- –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ exec ---
exec "$@"  # –ó–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–º–∞–Ω–¥—É, –ø–µ—Ä–µ–¥–∞–Ω–Ω—É—é –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É –≤ CMD –∏–ª–∏ docker run, –∑–∞–º–µ–Ω—è—è —Ç–µ–∫—É—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å —Å–∫—Ä–∏–ø—Ç–∞.
           # –ë–ª–∞–≥–æ–¥–∞—Ä—è exec:
           # 1. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å—Ç–∞–Ω–µ—Ç PID 1 –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–ø–æ–ª—É—á–∞–µ—Ç —Å–∏–≥–Ω–∞–ª—ã –Ω–∞–ø—Ä—è–º—É—é, –Ω–∞–ø—Ä–∏–º–µ—Ä SIGTERM).
           # 2. Docker —Å–º–æ–∂–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≤–µ—Ä—à–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å.
           # 3. –ù–µ –±—É–¥–µ—Ç –∑–∞–≤–∏—Å—à–µ–≥–æ shell-–ø—Ä–æ—Ü–µ—Å—Å–∞.
```
