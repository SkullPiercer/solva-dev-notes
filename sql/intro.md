**Что такое SQL и зачем он нужен**

SQL — это язык, разработанный для работы с данными, которые хранятся в структурированном виде, чаще всего — в виде таблиц. Его основная задача — помогать получать, изменять и управлять нужной информацией в базе данных. Представьте, что вы задаёте базе конкретный вопрос — SQL позволяет этот вопрос правильно сформулировать и получить понятный, точный ответ.

Данные в реляционных базах структурированы: информация распределена по строкам и столбцам, что делает работу с ней удобной. Такое представление упрощает анализ, фильтрацию и объединение информации между таблицами — именно в этом и проявляется «реляционность» (т.е. наличие связей между сущностями).

**Пример из жизни**  
Допустим, маркетолог изучает рынок доставки еды и хочет понять, какие пиццерии города готовы привезти пиццу с ананасами после 23:00. SQL позволяет ему не вручную перебирать сайты, а получить нужные данные прямо из базы — быстро и точно.

**Почему SQL важен в IT**

Хотя SQL не относится к языкам программирования в классическом понимании (на нём не напишешь полноценное приложение), он незаменим для обработки данных. Многие IT-системы — от интернет-магазинов до поисковиков — используют SQL-запросы «за кулисами», чтобы находить и отображать нужную информацию пользователю.

**Кому нужен SQL**
- **Аналитики и маркетологи** используют SQL, чтобы получать данные напрямую, без помощи разработчиков.
    
- **Разработчики** применяют его для построения и оптимизации логики хранения данных.
    
- **Тестировщики** проверяют, как данные записываются и читаются в базах.
    
- **Менеджеры** могут следить за показателями бизнеса, анализируя данные в реальном времени.

**Как устроена работа SQL-запросов**
Процесс запроса можно представить как путь от пользователя к таблице в базе:
1. **Пользователь** формирует запрос.
    
2. **Клиент** (например, интерфейс) принимает его.
    
3. **СУБД** (система управления базами данных) обрабатывает запрос и ищет нужную информацию.
    
4. **База данных** отдаёт результат, основанный на структуре таблиц.

**Основные термины**
- **Таблица (отношение)** — двумерная структура с данными.
    
- **Столбец (атрибут)** — отдельная характеристика, например «цена» или «время работы».
    
- **Строка (кортеж)** — конкретная запись (например, одна пиццерия).
    
- **Ключ** — поле, которое позволяет идентифицировать записи и связывать таблицы.
    
    - **Первичный** — основной уникальный идентификатор.
        
    - **Внешний** — ссылается на ключ из другой таблицы, связывая данные между ними.

**Пример:**  
Чтобы найти пиццерии, доставляющие пиццу с ананасами ночью, понадобится объединить несколько таблиц — с меню, составом пицц, временем доставки. Всё это делается с помощью ключей и SQL-запроса.

**Виды SQL-операторов**
SQL-команды делятся по типу задач:
1. **DDL (структура базы):**
    
    - `CREATE` — создание таблицы
        
    - `ALTER` — изменение структуры
        
    - `DROP` — удаление объекта
2. **DML (работа с данными):**
    
    - `SELECT` — выбор данных
        
    - `INSERT` — добавление новой записи
        
    - `UPDATE` — изменение
        
    - `DELETE` — удаление
3. **DCL (права доступа):**
    
    - `GRANT` — выдача прав
        
    - `REVOKE` — отзыв
        
    - `DENY` — запрет (имеет приоритет над разрешением)
4. **TCL (транзакции):**
    
    - `BEGIN TRANSACTION` — начало
        
    - `COMMIT` — подтверждение
        
    - `ROLLBACK` — откат
        
    - `SAVE TRANSACTION` — промежуточная точка

**СУБД и SQL-диалекты**

Базы данных не работают сами по себе — ими управляют через СУБД. Это программные системы, позволяющие создавать таблицы, настраивать связи, выполнять запросы, управлять доступом и обеспечивать стабильность при сбоях.

Разные СУБД используют свои версии SQL — так называемые диалекты. Они похожи, но могут отличаться деталями реализации.

Примеры популярных СУБД:

- **PostgreSQL** — мощная, гибкая, поддерживает сложные объекты и логику. Часто используется в высоконагруженных сервисах.
    
- **MySQL** — простая и быстрая, отлично подходит для веб-приложений, форумов, CMS.
    
- **SQLite** — лёгкая СУБД без серверной части, удобно использовать в мобильных приложениях.
    
- **Oracle** — надёжное решение для крупных корпораций, активно используется с 70-х годов.
    
- **Google Cloud Spanner** — облачное решение от Google, совмещает преимущества реляционных и нереляционных баз.


### **Что такое NoSQL и зачем он нужен**

**NoSQL** — это общее название для баз данных, которые хранят и обрабатывают информацию не в виде классических таблиц, как в SQL, а в других, более гибких форматах: документов, ключей и значений, графов или даже вложенных структур. Название переводится как _«не только SQL»_, то есть NoSQL не заменяет реляционные базы, а дополняет их, когда нужны другие подходы к хранению и обработке данных.

Эти системы особенно полезны в проектах, где:

- данные быстро меняются и нет времени на строгую структуру;
    
- объём информации растёт экспоненциально;
    
- важна высокая скорость отклика;
    
- структура данных может быть непредсказуемой или очень гибкой (например, в соцсетях или маркетплейсах).

---
### **Почему не таблицы**

В SQL-структуре все данные строго упорядочены по колонкам и строкам. Но что делать, если у каждой записи может быть свой уникальный набор полей? Или если данные поступают с огромной скоростью — например, логирование кликов пользователей на сайте?

В таких случаях удобнее использовать NoSQL — он не требует жёсткой схемы и отлично справляется с нагрузкой. Приложение просто отправляет новую запись — и она сохраняется такой, какая есть.

---

### **Типы NoSQL-баз**

NoSQL — это не один тип базы, а целое семейство решений, у каждого из которых свой подход к хранению информации:

1. **Документно-ориентированные (Document Store)**  
    Данные хранятся в виде документов (чаще всего JSON или BSON). Каждый документ — это как мини-база: с собственным набором полей, вложенностью и структурой. Отлично подходит для хранения информации о пользователях, товарах, заказах.  
    Пример: **MongoDB**
    
2. **Ключ-значение (Key-Value Store)**  
    Всё просто: есть ключ (например, "user123") и есть значение (например, настройки этого пользователя). Никаких сложностей — зато очень быстро.  
    Пример: **Redis**, **Amazon DynamoDB**
    
3. **Графовые базы (Graph DB)**  
    Представляют данные в виде узлов и связей между ними. Полезны, когда важны отношения: друзья в соцсети, рекомендательные системы, связи между объектами.  
    Пример: **Neo4j**, **Amazon Neptune**
    
4. **Колонко-ориентированные базы (Column Store)**  
    Вместо строк данные хранятся по колонкам. Это ускоряет аналитику и агрегацию больших объёмов данных.  
    Пример: **Apache Cassandra**, **HBase**
    

---

### **Когда использовать NoSQL**

NoSQL отлично справляется с задачами, где:

- данные разнородные и плохо ложатся в таблицы;
    
- нужно масштабировать базу горизонтально (добавлением новых серверов);
    
- важна высокая доступность и отказоустойчивость;
    
- структура данных часто меняется на лету;
    
- приоритет — скорость, а не точность до последнего бита.
    

---

### **Пример из жизни**

Допустим, вы создаёте маркетплейс, где продавцы могут добавлять карточки товаров с произвольными характеристиками: у одного — "цвет", "размер", у другого — "тип", "дата производства", "материал". Создать фиксированную таблицу под такой набор будет неудобно. А документная NoSQL-база справится на ура: каждый товар будет храниться как отдельный JSON-документ со своими уникальными полями.
### **Плюсы и минусы NoSQL**

**Плюсы:**
- Гибкость в структуре данных
    
- Быстрая работа с большими объёмами
    
- Горизонтальное масштабирование
    
- Удобство для разработчиков (особенно в стартапах)

**Минусы:**

- Нет единого стандарта, как у SQL
    
- Не все базы поддерживают сложные транзакции
    
- Иногда сложнее анализировать данные, чем в таблицах

```
|Система|Тип|Применение|
|---|---|---|
|**MongoDB**|Документная|Хранение гибких данных (товары, профили)|
|**Redis**|Ключ-значение|Кэширование, очереди, быстрый доступ|
|**Cassandra**|Колонко-ориент.|Аналитика, масштабируемые проекты|
|**Neo4j**|Графовая|Социальные сети, системы рекомендаций|
|**Amazon DynamoDB**|Ключ-значение|Облачные масштабируемые решения|
```
SQL vs NoSQL — в двух словах
```
||SQL|NoSQL|
|---|---|---|
|Структура данных|Жёсткая, таблицы|Гибкая, свободная|
|Масштабирование|Вертикальное (мощнее сервер)|Горизонтальное (больше серверов)|
|Формализация|Чёткая схема|Схема может быть разной у каждой записи|
|Транзакции|Полноценная поддержка|Ограниченная или отсутствует|
|Сценарии|Финансы, отчёты, ERP|Big Data, стартапы, соцсети, IoT|
```


## **Тест: SQL и NoSQL — закрепление**

**1. Что такое SQL?**  
A. Язык программирования  
B. Язык для работы с базами данных  
C. Система хранения данных  
D. Фреймворк для анализа данных

---

**2. Как называется команда для извлечения данных из таблицы?**  
A. INSERT  
B. UPDATE  
C. SELECT  
D. DROP

---

**3. Что делает команда `DELETE` в SQL?**  
A. Удаляет таблицу  
B. Удаляет базу данных  
C. Удаляет строки из таблицы  
D. Стирает значения, не удаляя строки

---

**4. Что такое первичный ключ (PRIMARY KEY)?**  
A. Столбец, по которому сортируется таблица  
B. Любой уникальный столбец  
C. Уникальный идентификатор строки  
D. Столбец, содержащий внешние ключи

---

**5. Что такое внешний ключ (FOREIGN KEY)?**  
A. Ключ, указывающий на строку в другой таблице  
B. Ключ, который не используется  
C. Уникальный ключ внутри таблицы  
D. Поле, содержащее только NULL

---

**6. Какая команда используется для добавления новой таблицы?**  
A. INSERT  
B. CREATE  
C. ALTER  
D. ADD

---

**7. Что делает команда `UPDATE`?**  
A. Обновляет схему таблицы  
B. Обновляет значения в существующих строках  
C. Пересоздаёт таблицу  
D. Выполняет выборку

---

**8. Что означает аббревиатура DML?**  
A. Data Management Logic  
B. Data Manipulation Language  
C. Data Model Language  
D. Database Machine Learning

---

**9. Какая команда используется для изменения структуры таблицы?**  
A. CHANGE  
B. UPDATE  
C. MODIFY  
D. ALTER

---

**10. Какой оператор используется для ограничения количества строк в выдаче?**  
A. COUNT  
B. LIMIT  
C. TOP  
D. MAX

---

**11. Что такое NoSQL?**  
A. Полный отказ от SQL  
B. Только XML-базы данных  
C. Неструктурированный способ хранения  
D. Подход к базам данных, не основанный на реляционной модели

---

**12. Какой из следующих вариантов — документно-ориентированная NoSQL-СУБД?**  
A. Redis  
B. Neo4j  
C. MongoDB  
D. PostgreSQL

---

**13. Какой формат хранения данных используется в MongoDB?**  
A. CSV  
B. XML  
C. JSON/BSON  
D. Таблицы SQL

---

**14. Какой тип NoSQL базы лучше для хранения социальных графов?**  
A. Документная  
B. Ключ-значение  
C. Колонко-ориентированная  
D. Графовая

---

**15. Что из перечисленного является недостатком NoSQL?**  
A. Сложность горизонтального масштабирования  
B. Отсутствие гибкости  
C. Ограниченная поддержка транзакций  
D. Только работа в офлайн

---

**16. Какой тип базы данных использует принцип "ключ — значение"?**  
A. Redis  
B. Cassandra  
C. MongoDB  
D. MySQL

---

**17. Что такое горизонтальное масштабирование?**  
A. Добавление оперативной памяти  
B. Увеличение количества CPU  
C. Добавление новых серверов  
D. Разделение таблиц на части

---

**18. Какой из вариантов — колонко-ориентированная база данных?**  
A. MongoDB  
B. Redis  
C. Cassandra  
D. SQLite

---

**19. Что такое CAP-теорема?**  
A. Теория индексации больших данных  
B. Ограничение между совместимостью SQL и NoSQL  
C. Принцип выбора между согласованностью, доступностью и устойчивостью к разделению  
D. Модель безопасности данных в облаке

---

**20. Какая система относится к классу NewSQL и объединяет черты SQL и NoSQL?**  
A. Redis  
B. Google Cloud Spanner  
C. Cassandra  
D. SQLite

---

## **Ответы и пояснения**

1. **B** — SQL — это язык работы с реляционными базами данных
    
2. **C** — SELECT выбирает данные
    
3. **C** — DELETE удаляет строки
    
4. **C** — PRIMARY KEY — уникальный идентификатор строки
    
5. **A** — FOREIGN KEY указывает на первичный ключ в другой таблице
    
6. **B** — CREATE создаёт новый объект
    
7. **B** — UPDATE изменяет существующие значения
    
8. **B** — DML — Data Manipulation Language
    
9. **D** — ALTER изменяет структуру
    
10. **B** — LIMIT ограничивает количество строк в выборке
    
11. **D** — NoSQL — это не реляционный подход
    
12. **C** — MongoDB — документно-ориентированная
    
13. **C** — MongoDB использует JSON/BSON
    
14. **D** — Графовые базы (например, Neo4j) лучше для таких задач
    
15. **C** — Основной минус — слабая поддержка транзакций
    
16. **A** — Redis — база "ключ-значение"
    
17. **C** — Горизонтальное масштабирование — это добавление серверов
    
18. **C** — Cassandra — колонко-ориентированная СУБД
    
19. **C** — CAP-теорема описывает компромисс между тремя свойствами
    
20. **B** — Google Cloud Spanner — представитель NewSQL

